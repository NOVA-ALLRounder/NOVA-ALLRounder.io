---
import DocsLayout from '../../layouts/DocsLayout.astro';
---

<DocsLayout title="API Reference" description="NOVA REST API v2ì˜ ì—”ë“œí¬ì¸íŠ¸, ì¸ì¦, ìš”ì²­/ì‘ë‹µ í˜•ì‹ì„ í™•ì¸í•©ë‹ˆë‹¤.">
  <h1>API Reference</h1>
  <p class="doc-subtitle">NOVA REST API v2 ë¬¸ì„œì…ë‹ˆë‹¤. ëª¨ë“  API í˜¸ì¶œì€ JSON í˜•ì‹ì„ ì‚¬ìš©í•˜ë©° Bearer í† í° ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>

  <h2>ì¸ì¦</h2>

  <p>ëª¨ë“  API ìš”ì²­ì—ëŠ” <code>Authorization</code> í—¤ë”ê°€ í•„ìš”í•©ë‹ˆë‹¤:</p>

  <pre><code>{`Authorization: Bearer YOUR_API_KEY`}</code></pre>

  <p>API í‚¤ëŠ” <strong>ëŒ€ì‹œë³´ë“œ â†’ ì„¤ì • â†’ API í‚¤</strong>ì—ì„œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í‚¤ëŠ” ìƒì„± ì‹œ í•œ ë²ˆë§Œ í‘œì‹œë˜ë¯€ë¡œ ì•ˆì „í•œ ê³³ì— ë³´ê´€í•˜ì„¸ìš”.</p>

  <div class="doc-callout doc-callout-warning">
    <strong>âš ï¸ ë³´ì•ˆ:</strong> API í‚¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì½”ë“œë‚˜ ê³µê°œ ì €ì¥ì†Œì— ë…¸ì¶œí•˜ì§€ ë§ˆì„¸ìš”. ì„œë²„ ì‚¬ì´ë“œ í˜¸ì¶œ ë˜ëŠ” í™˜ê²½ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
  </div>

  <h2>Base URL</h2>

  <pre><code>https://api.nova-platform.io/v2</code></pre>

  <p>ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ëŠ” ì´ Base URLì„ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>

  <h2>Rate Limits</h2>

  <table>
    <thead>
      <tr><th>í”Œëœ</th><th>ë¶„ë‹¹ í˜¸ì¶œ</th><th>ì¼ì¼ í•œë„</th></tr>
    </thead>
    <tbody>
      <tr><td>Individual</td><td>60íšŒ</td><td>10,000íšŒ</td></tr>
      <tr><td>Team</td><td>300íšŒ</td><td>50,000íšŒ</td></tr>
      <tr><td>Enterprise</td><td>í˜‘ì˜</td><td>ë¬´ì œí•œ</td></tr>
    </tbody>
  </table>

  <p>í•œë„ ì´ˆê³¼ ì‹œ <code>429 Too Many Requests</code> ì‘ë‹µì´ ë°˜í™˜ë©ë‹ˆë‹¤. <code>Retry-After</code> í—¤ë”ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>

  <h2>Automations</h2>

  <h3><span class="doc-badge doc-badge-post">POST</span> /automations</h3>

  <p>ìƒˆ ìë™í™”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>

  <h4>Request Body</h4>

  <pre><code>{`{
  "name": "email-classifier",
  "description": "ìˆ˜ì‹  ì´ë©”ì¼ì„ ìë™ ë¶„ë¥˜í•˜ê³  Slack ì•Œë¦¼ ì „ì†¡",
  "trigger": {
    "type": "webhook",
    "config": {
      "path": "/incoming-email",
      "method": "POST"
    }
  },
  "actions": [
    {
      "type": "classify",
      "model": "default",
      "categories": ["ì¤‘ìš”", "ì¼ë°˜", "ê´‘ê³ "]
    },
    {
      "type": "notify",
      "channel": "slack",
      "config": {
        "webhook_url": "https://hooks.slack.com/...",
        "template": "ìƒˆ {{category}} ì´ë©”ì¼: {{subject}}"
      }
    }
  ]
}`}</code></pre>

  <h4>Response â€” <code>201 Created</code></h4>

  <pre><code>{`{
  "id": "auto_7kX2mN9pQ4",
  "name": "email-classifier",
  "status": "active",
  "created_at": "2026-02-13T06:30:00Z",
  "trigger": { "type": "webhook", "url": "https://api.nova-platform.io/v2/hooks/auto_7kX2mN9pQ4" },
  "runs_count": 0
}`}</code></pre>

  <h4>Error Responses</h4>

  <table>
    <thead>
      <tr><th>ì½”ë“œ</th><th>ì„¤ëª…</th></tr>
    </thead>
    <tbody>
      <tr><td><code>400</code></td><td>ì˜ëª»ëœ ìš”ì²­ â€” í•„ìˆ˜ í•„ë“œ ëˆ„ë½ ë˜ëŠ” ìœ íš¨í•˜ì§€ ì•Šì€ ê°’</td></tr>
      <tr><td><code>401</code></td><td>ì¸ì¦ ì‹¤íŒ¨ â€” API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ</td></tr>
      <tr><td><code>422</code></td><td>ì²˜ë¦¬ ë¶ˆê°€ â€” ì œê³µëœ êµ¬ì„±ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ</td></tr>
      <tr><td><code>429</code></td><td>Rate Limit ì´ˆê³¼</td></tr>
    </tbody>
  </table>

  <hr />

  <h3><span class="doc-badge doc-badge-get">GET</span> /automations</h3>

  <p>ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ëª¨ë“  ìë™í™” ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>

  <h4>Query Parameters</h4>

  <table>
    <thead>
      <tr><th>íŒŒë¼ë¯¸í„°</th><th>íƒ€ì…</th><th>ê¸°ë³¸ê°’</th><th>ì„¤ëª…</th></tr>
    </thead>
    <tbody>
      <tr><td><code>page</code></td><td>integer</td><td>1</td><td>í˜ì´ì§€ ë²ˆí˜¸</td></tr>
      <tr><td><code>per_page</code></td><td>integer</td><td>20</td><td>í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ (ìµœëŒ€ 100)</td></tr>
      <tr><td><code>status</code></td><td>string</td><td>all</td><td>í•„í„°: <code>active</code>, <code>paused</code>, <code>error</code></td></tr>
      <tr><td><code>sort</code></td><td>string</td><td>created_at</td><td>ì •ë ¬ ê¸°ì¤€: <code>created_at</code>, <code>name</code>, <code>runs_count</code></td></tr>
    </tbody>
  </table>

  <h4>Response â€” <code>200 OK</code></h4>

  <pre><code>{`{
  "data": [
    {
      "id": "auto_7kX2mN9pQ4",
      "name": "email-classifier",
      "status": "active",
      "runs_count": 1247,
      "last_run_at": "2026-02-13T06:15:00Z",
      "created_at": "2026-01-15T09:00:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "per_page": 20,
    "total": 8,
    "total_pages": 1
  }
}`}</code></pre>

  <hr />

  <h3><span class="doc-badge doc-badge-get">GET</span> /automations/:id</h3>

  <p>íŠ¹ì • ìë™í™”ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. íŠ¸ë¦¬ê±° ì„¤ì •, ì•¡ì…˜ êµ¬ì„±, ì‹¤í–‰ í†µê³„ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.</p>

  <hr />

  <h3><span class="doc-badge doc-badge-patch">PATCH</span> /automations/:id</h3>

  <p>ìë™í™”ì˜ ì„¤ì •ì„ ë¶€ë¶„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. <code>name</code>, <code>description</code>, <code>trigger</code>, <code>actions</code>, <code>status</code> í•„ë“œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

  <pre><code>{`{
  "status": "paused"
}`}</code></pre>

  <hr />

  <h3><span class="doc-badge doc-badge-delete">DELETE</span> /automations/:id</h3>

  <p>ìë™í™”ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ì‚­ì œëœ ìë™í™”ì˜ ì‹¤í–‰ ì´ë ¥ì€ <strong>90ì¼ê°„</strong> ë³´ê´€ëœ í›„ ì˜êµ¬ ì‚­ì œë©ë‹ˆë‹¤.</p>

  <h4>Response â€” <code>204 No Content</code></h4>
  <p>ì„±ê³µ ì‹œ ì‘ë‹µ ë³¸ë¬¸ ì—†ìŒ.</p>

  <hr />

  <h2>Runs (ì‹¤í–‰ ì´ë ¥)</h2>

  <h3><span class="doc-badge doc-badge-get">GET</span> /automations/:id/runs</h3>

  <p>íŠ¹ì • ìë™í™”ì˜ ì‹¤í–‰ ì´ë ¥ì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>

  <h4>Query Parameters</h4>

  <table>
    <thead>
      <tr><th>íŒŒë¼ë¯¸í„°</th><th>íƒ€ì…</th><th>ê¸°ë³¸ê°’</th><th>ì„¤ëª…</th></tr>
    </thead>
    <tbody>
      <tr><td><code>page</code></td><td>integer</td><td>1</td><td>í˜ì´ì§€ ë²ˆí˜¸</td></tr>
      <tr><td><code>per_page</code></td><td>integer</td><td>50</td><td>í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ (ìµœëŒ€ 200)</td></tr>
      <tr><td><code>status</code></td><td>string</td><td>all</td><td>í•„í„°: <code>success</code>, <code>error</code>, <code>running</code></td></tr>
      <tr><td><code>since</code></td><td>ISO 8601</td><td>â€”</td><td>ì‹œì‘ ì¼ì‹œ</td></tr>
      <tr><td><code>until</code></td><td>ISO 8601</td><td>â€”</td><td>ì¢…ë£Œ ì¼ì‹œ</td></tr>
    </tbody>
  </table>

  <h4>Response â€” <code>200 OK</code></h4>

  <pre><code>{`{
  "data": [
    {
      "id": "run_aB3cD4eF5g",
      "status": "success",
      "started_at": "2026-02-13T06:15:00Z",
      "finished_at": "2026-02-13T06:15:02Z",
      "duration_ms": 2140,
      "trigger_data": { "source": "webhook", "ip": "203.0.113.1" },
      "result": { "classified_as": "ì¤‘ìš”", "notified": true }
    }
  ],
  "pagination": {
    "page": 1,
    "per_page": 50,
    "total": 1247,
    "total_pages": 25
  }
}`}</code></pre>

  <hr />

  <h2>Classifiers (AI ë¶„ë¥˜ ëª¨ë¸)</h2>

  <h3><span class="doc-badge doc-badge-post">POST</span> /classifiers</h3>

  <p>ì»¤ìŠ¤í…€ AI ë¶„ë¥˜ ëª¨ë¸ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>

  <pre><code>{`{
  "name": "inquiry-classifier",
  "categories": ["ê¸°ìˆ ", "ê²°ì œ", "ì¼ë°˜", "ê¸´ê¸‰"],
  "training_data": [
    { "text": "ë¡œê·¸ì¸ì´ ì•ˆ ë©ë‹ˆë‹¤", "label": "ê¸°ìˆ " },
    { "text": "ê²°ì œ ë‚´ì—­ì„ í™•ì¸í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤", "label": "ê²°ì œ" },
    { "text": "ì„œë¹„ìŠ¤ ì´ìš© ì‹œê°„ì„ ì•Œê³  ì‹¶ìŠµë‹ˆë‹¤", "label": "ì¼ë°˜" }
  ]
}`}</code></pre>

  <h3><span class="doc-badge doc-badge-get">GET</span> /classifiers</h3>
  <p>ë“±ë¡ëœ ëª¨ë“  ë¶„ë¥˜ ëª¨ë¸ì„ ì¡°íšŒí•©ë‹ˆë‹¤.</p>

  <h3><span class="doc-badge doc-badge-post">POST</span> /classifiers/:id/predict</h3>
  <p>í…ìŠ¤íŠ¸ë¥¼ ë¶„ë¥˜í•©ë‹ˆë‹¤. ë¶„ë¥˜ ê²°ê³¼ì™€ ì‹ ë¢°ë„ ì ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>

  <pre><code>{`// Request
{ "text": "ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤" }

// Response
{
  "prediction": "ê¸°ìˆ ",
  "confidence": 0.92,
  "alternatives": [
    { "category": "ì¼ë°˜", "confidence": 0.06 },
    { "category": "ê²°ì œ", "confidence": 0.02 }
  ]
}`}</code></pre>

  <hr />

  <h2>Webhooks</h2>

  <h3>ì¬ì‹œë„ ì •ì±…</h3>
  <p>Webhook ì „ì†¡ ì‹¤íŒ¨ ì‹œ ì§€ìˆ˜ ë°±ì˜¤í”„(exponential backoff) ë°©ì‹ìœ¼ë¡œ ì¬ì‹œë„í•©ë‹ˆë‹¤:</p>

  <table>
    <thead>
      <tr><th>ì‹œë„</th><th>ëŒ€ê¸° ì‹œê°„</th><th>ìµœëŒ€ ëŒ€ê¸°</th></tr>
    </thead>
    <tbody>
      <tr><td>1ì°¨ ì¬ì‹œë„</td><td>1ì´ˆ</td><td>â€”</td></tr>
      <tr><td>2ì°¨ ì¬ì‹œë„</td><td>4ì´ˆ</td><td>â€”</td></tr>
      <tr><td>3ì°¨ ì¬ì‹œë„</td><td>16ì´ˆ</td><td>â€”</td></tr>
      <tr><td>4ì°¨ ì¬ì‹œë„</td><td>64ì´ˆ</td><td>â€”</td></tr>
      <tr><td>5ì°¨ ì¬ì‹œë„</td><td>256ì´ˆ</td><td>5ë¶„</td></tr>
    </tbody>
  </table>

  <p>5íšŒ ì¬ì‹œë„ í›„ì—ë„ ì‹¤íŒ¨í•˜ë©´ í•´ë‹¹ ì‹¤í–‰ì€ <code>error</code> ìƒíƒœë¡œ ê¸°ë¡ë©ë‹ˆë‹¤.</p>

  <hr />

  <h2>SDKs & ë„êµ¬</h2>

  <table>
    <thead>
      <tr><th>ì–¸ì–´/ë„êµ¬</th><th>íŒ¨í‚¤ì§€</th><th>ìƒíƒœ</th></tr>
    </thead>
    <tbody>
      <tr><td>cURL</td><td>â€”</td><td>âœ… ì§€ì›</td></tr>
      <tr><td>Python</td><td><code>pip install nova-sdk</code></td><td>ğŸš§ ì¤€ë¹„ ì¤‘</td></tr>
      <tr><td>Node.js</td><td><code>npm install @nova/sdk</code></td><td>ğŸš§ ì¤€ë¹„ ì¤‘</td></tr>
      <tr><td>OpenAPI Spec</td><td>YAML / JSON export</td><td>ğŸš§ ì¤€ë¹„ ì¤‘</td></tr>
    </tbody>
  </table>

  <hr />
  <p>APIì— ëŒ€í•œ ì§ˆë¬¸ì´ ìˆê±°ë‚˜ ì¶”ê°€ ì—”ë“œí¬ì¸íŠ¸ê°€ í•„ìš”í•˜ë‹¤ë©´ <a href="https://github.com/NOVA-ALLRounder/main/issues">GitHub Issues</a>ì—ì„œ ìš”ì²­í•˜ì„¸ìš”.</p>
</DocsLayout>
