---
import DocsLayout from '../../layouts/DocsLayout.astro';
const repo = process.env.GITHUB_REPOSITORY?.split('/')[1] ?? '';
const isUserSiteRepo = repo.endsWith('.github.io');
const basePath = process.env.GITHUB_ACTIONS === 'true'
  ? (isUserSiteRepo ? '/' : `/${repo}/`)
  : '/';
const withBase = (url: string) => {
  if (!url.startsWith('/')) return url;
  const clean = url.replace(/^\/+/, '');
  return clean ? `${basePath}${clean}` : basePath;
};
---

<DocsLayout title="Getting Started" description="Local OS Agent ì„¤ì¹˜ë¶€í„° ì²« ìë™í™” ì‹¤í–‰ê¹Œì§€ ì•ˆë‚´í•©ë‹ˆë‹¤.">
  <h1>Getting Started</h1>
  <p>NOVA Local OS Agentë¥¼ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•˜ëŠ” ê°€ì´ë“œì…ë‹ˆë‹¤. 5ë¶„ì´ë©´ ì²« ìë™í™”ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

  <h2>ğŸ“‹ í•„ìˆ˜ ìš”êµ¬ì‚¬í•­</h2>
  <ul>
    <li><strong>macOS 12+</strong> (Monterey ì´ìƒ) ë˜ëŠ” Windows</li>
    <li><strong>Rust 1.70+</strong> â€” <a href="https://rustup.rs">rustup.rs</a>ì—ì„œ ì„¤ì¹˜</li>
    <li><strong>OpenAI API Key</strong> â€” LLM ë¶„ì„ìš©</li>
    <li><strong>Accessibility ê¶Œí•œ</strong> (macOS): ì‹œìŠ¤í…œ í™˜ê²½ì„¤ì • â†’ ê°œì¸ì •ë³´ ë³´í˜¸ â†’ ì†ì‰¬ìš´ ì‚¬ìš© â†’ í„°ë¯¸ë„ ì²´í¬</li>
  </ul>

  <h2>1. Clone & Build</h2>
  <p>ì €ì¥ì†Œë¥¼ í´ë¡ í•˜ê³  ì½”ì–´ ë°”ì´ë„ˆë¦¬ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.</p>
  <pre><code># 1. Clone
git clone https://github.com/NOVA-ALLRounder/main.git
cd main/core

# 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì— OPENAI_API_KEY ì…ë ¥

# 3. ë¹Œë“œ
cargo build --release</code></pre>

  <h2>2. ì‹¤í–‰</h2>
  <p>ë¹Œë“œëœ ë°”ì´ë„ˆë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. macOSì—ì„œëŠ” Accessibility ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
  <pre><code># ì½”ì–´ ì—ì´ì „íŠ¸ ì‹¤í–‰
./target/release/core</code></pre>

  <p>Windowsì—ì„œëŠ” PowerShell ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:</p>
  <pre><code># Windows
.\scripts\run_core.ps1 -CollectorImpl rust</code></pre>

  <h2>3. ì²« ë²ˆì§¸ ëª…ë ¹ì–´</h2>
  <p>ì½”ì–´ê°€ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
  <pre><code># ë°˜ë³µ íŒ¨í„´ ë¶„ì„
routine

# AI ê¸°ë°˜ ìë™í™” ì¶”ì²œ
recommend

# ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
status

# ì•± ì œì–´
control Safari open
control Terminal focus

# ì…¸ ëª…ë ¹ ì‹¤í–‰ (ë³´ì•ˆ ì •ì±… ì ìš©)
exec "echo hello"

# ìì—°ì–´ë¡œ ì›Œí¬í”Œë¡œìš° ìƒì„±
build_workflow "ë§¤ì¼ ì•„ì¹¨ 9ì‹œì— Slack ì•Œë¦¼ ë³´ë‚´ê¸°"</code></pre>

  <h2>4. n8n ì›Œí¬í”Œë¡œìš° (ì„ íƒ)</h2>
  <p>n8nì„ ì‚¬ìš©í•˜ë©´ ë” ë³µì¡í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  <pre><code># Dockerë¡œ n8n ì‹¤í–‰ (ê¸°ë³¸ ëª¨ë“œ)
docker compose up -d n8n

# n8n API URL ê¸°ë³¸ê°’: http://localhost:5678/api/v1

# í™˜ê²½ë³€ìˆ˜ë¡œ ëŸ°íƒ€ì„ ëª¨ë“œ ë³€ê²½ ê°€ëŠ¥
# STEER_N8N_RUNTIME=docker (ê¸°ë³¸)
# STEER_N8N_RUNTIME=npx
# STEER_N8N_RUNTIME=manual</code></pre>

  <h2>5. ë°ì´í„° ìˆ˜ì§‘ & ëª¨ë‹ˆí„°ë§</h2>
  <p>Rust Collectorë¡œ OS ì„¼ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  íŒ¨í„´ì„ ë¶„ì„í•©ë‹ˆë‹¤.</p>
  <pre><code># Rust Collector ë¹Œë“œ & ì‹¤í–‰
cargo build --manifest-path core/Cargo.toml --bin collector_rs
STEER_DB_PATH=./steer.db STEER_COLLECTOR_PORT=8080 ./core/target/debug/collector_rs

# ë˜ëŠ” ê°„ë‹¨íˆ
bash scripts/run_local.sh

# íŒ¨í„´ ë¶„ì„ ë°°ì¹˜ ì‹¤í–‰
STEER_DB_PATH=./steer.db ./core/target/debug/build_sessions_rs --since-hours 6 --use-state
STEER_DB_PATH=./steer.db ./core/target/debug/build_routines_rs --days 3 --min-support 2 --use-state
STEER_DB_PATH=./steer.db ./core/target/debug/build_handoff_rs --skip-unchanged --keep-latest-pending</code></pre>

  <h2>6. Release ë¹Œë“œ (ì„ íƒ)</h2>
  <p>Tauri ê¸°ë°˜ ë°ìŠ¤í¬í†± ì•±(.app / .exe)ì„ ë¹Œë“œí•©ë‹ˆë‹¤.</p>
  <pre><code># Production ë¹Œë“œ
./scripts/build_release.sh

# ì´ ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…:
# 1. Frontend Build: React/Vite ì—ì…‹ ì»´íŒŒì¼
# 2. Core Build: Rust sidecar (steer-core) ì»´íŒŒì¼
# 3. Bundle: .app (macOS) ë˜ëŠ” .exe ìƒì„±
# â†’ ê²°ê³¼ë¬¼: desktop/src-tauri/target/release/bundle</code></pre>

  <hr />
  <p>ë” ìì„¸í•œ ë‚´ìš©ì€ <a href={withBase('/docs/tutorials')}>Tutorials</a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”. ë¬¸ì œê°€ ìˆë‹¤ë©´ <a href={withBase('/contact')}>ë¬¸ì˜í•˜ê¸°</a>ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”.</p>
</DocsLayout>
