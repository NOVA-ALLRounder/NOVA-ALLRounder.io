---
import DocsLayout from '../../layouts/DocsLayout.astro';
const repo = process.env.GITHUB_REPOSITORY?.split('/')[1] ?? '';
const isUserSiteRepo = repo.endsWith('.github.io');
const basePath = process.env.GITHUB_ACTIONS === 'true'
  ? (isUserSiteRepo ? '/' : `/${repo}/`)
  : '/';
const withBase = (url: string) => {
  if (!url.startsWith('/')) return url;
  const clean = url.replace(/^\/+/, '');
  return clean ? `${basePath}${clean}` : basePath;
};
---

<DocsLayout title="Tutorials" description="실제 비즈니스 시나리오를 통한 AllvIa 핵심 기능 학습 가이드." lang="ko">
  <h1>Tutorials</h1>
  <p class="doc-subtitle">실제 업무 시나리오를 기반으로 AllvIa의 핵심 기능을 학습합니다. 기초부터 고급까지 난이도별로 구성되어 있습니다.</p>

  <div class="doc-callout">
    <strong>사전 준비:</strong> 모든 튜토리얼은 <a href={withBase('/docs/getting-started')}>Getting Started</a> 가이드를 완료한 상태를 기준으로 합니다.
  </div>

  <h2>Basic</h2>

  <h3>자연어 OS 제어 (surf 명령어)</h3>

  <table>
    <tbody>
      <tr><td><strong>소요 시간</strong></td><td>약 10분</td></tr>
      <tr><td><strong>난이도</strong></td><td>초급</td></tr>
      <tr><td><strong>필요 커넥터</strong></td><td>없음 (코어 기능)</td></tr>
      <tr><td><strong>학습 내용</strong></td><td>surf 명령어, NL 파이프라인, 멀티앱 시나리오</td></tr>
    </tbody>
  </table>

  <p>AllvIa의 핵심 기능인 <code>surf</code> 명령어를 사용하여 자연어로 OS를 직접 제어합니다.</p>

  <h4>Step 1 — 기본 surf 명령어</h4>
  <p>자연어로 앱을 제어합니다. intent_router가 의도를 분석하고 plan_builder가 실행 계획을 생성합니다:</p>
  <pre><code>{`> surf "Safari 열어서 Google에서 날씨 검색해"

Intent: web_search | Slots: {app: Safari, query: 날씨}
Plan: Open Safari → Navigate → Search
[OK] Safari 실행 완료 (applescript.rs)
[OK] Google 검색 완료 (browser_automation.rs)

> surf "Notes 열어서 새 메모 만들고 오늘의 할 일을 입력해"

Intent: note_create | Slots: {app: Notes, content: 오늘의 할 일}
[OK] Notes.app 실행
[OK] Shortcut: Cmd+N (새 메모 생성)
[OK] Type: "오늘의 할 일" (keyboard.type)`}</code></pre>

  <h4>Step 2 — 멀티앱 시나리오</h4>
  <p>여러 앱을 연결하는 복잡한 워크플로우도 한 줄로 실행할 수 있습니다:</p>
  <pre><code>{`> surf "Safari에서 Apple 주가를 검색하고, Calculator에서 100주 가치를 계산한 뒤, Notes에 결과를 저장해"

Plan: 4 steps
  1. Open Safari → Search "Apple stock price"
  2. Vision: Read price from screen
  3. Open Calculator → Multiply × 100
  4. Open Notes → Save result

[OK] 4/4 steps completed`}</code></pre>

  <h4>Step 3 — Reality Check</h4>
  <p>AllvIa는 실행 전 <code>reality_check.rs</code>가 설치된 앱 목록을 스캔하고, 유사한 이름도 자동 보정합니다. "Excel"이라고 입력해도 "Microsoft Excel"로 자동 매칭됩니다.</p>

  <hr />

  <h3>주간 리포트 자동 생성</h3>

  <table>
    <tbody>
      <tr><td><strong>소요 시간</strong></td><td>약 30분</td></tr>
      <tr><td><strong>난이도</strong></td><td>중급</td></tr>
      <tr><td><strong>필요 커넥터</strong></td><td>Google Sheets, Slack</td></tr>
      <tr><td><strong>학습 내용</strong></td><td>스케줄 트리거, 데이터 수집, 리포트 포맷팅</td></tr>
    </tbody>
  </table>

  <p>여러 데이터 소스의 KPI를 수집하여 매주 월요일 아침에 자동으로 리포트를 생성하고 팀 채널에 공유합니다.</p>

  <h4>Step 1 — 스케줄 트리거 구성</h4>
  <pre><code>{`> build_workflow "매주 월요일 오전 9시에 Google Sheets에서 KPI를 수집하여 Slack에 주간 리포트 전송"

LLM 분석 중...
n8n 워크플로우 생성:
  ├─ Trigger: Schedule — 매주 월요일 09:00 KST
  ├─ Action: Google Sheets — Read KPI Data
  ├─ Action: Format — 마크다운 리포트 생성
  └─ Action: Slack — Post to #team-weekly

workflow_weekly_report.json 생성 완료`}</code></pre>

  <h4>Step 2 — 데이터 소스 연결</h4>
  <p>n8n 대시보드에서 Google Sheets 커넥터를 설정하고 KPI 데이터가 있는 시트를 연결합니다. 여러 시트의 데이터를 하나의 리포트로 통합할 수 있습니다.</p>

  <h4>Step 3 — 리포트 포맷 설정</h4>
  <p>리포트에 포함될 데이터 필드와 시각화 옵션을 설정합니다:</p>
  <ul>
    <li>주간 매출 변화 (전주 대비 %)</li>
    <li>신규 사용자 수 및 이탈률</li>
    <li>목표 대비 달성률</li>
    <li>주요 이슈 및 액션 아이템</li>
  </ul>

  <hr />

  <h2>Advanced</h2>

  <h3>Telegram 원격 제어 설정</h3>

  <table>
    <tbody>
      <tr><td><strong>소요 시간</strong></td><td>약 30분</td></tr>
      <tr><td><strong>난이도</strong></td><td>고급</td></tr>
      <tr><td><strong>필요 커넥터</strong></td><td>Telegram Bot API</td></tr>
      <tr><td><strong>학습 내용</strong></td><td>원격 명령 실행, 보안 정책, 결과 리포트</td></tr>
    </tbody>
  </table>

  <p>Telegram Bot을 연동하여 외출 중에도 폰에서 컴퓨터를 원격으로 제어합니다. <code>telegram.rs</code> (12KB)가 Bot API 연동을 처리합니다.</p>

  <h4>Step 1 — Telegram Bot 생성</h4>
  <p>BotFather를 통해 Telegram Bot을 생성하고 토큰을 발급받습니다:</p>
  <pre><code>{`# .env 파일에 Telegram 설정 추가
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id`}</code></pre>

  <h4>Step 2 — 원격 명령 실행</h4>
  <p>Telegram에서 메시지를 보내면 AllvIa가 명령을 실행하고 결과를 리포트합니다:</p>
  <pre><code>{`# Telegram에서 전송:
폰: "컴퓨터에서 git status 확인해"

# AllvIa 처리:
Intent: shell_exec | Security: Safe
> git status

# Telegram 리포트:
✅ 실행 완료
On branch main
Your branch is up to date with 'origin/main'.
nothing to commit, working tree clean`}</code></pre>

  <h4>Step 3 — 보안 정책 확인</h4>
  <p>원격 명령도 동일한 5계층 보안이 적용됩니다. Critical 등급 명령(rm, sudo 등)은 원격에서도 차단되며, Write Lock 해제는 로컬에서만 가능합니다.</p>

  <hr />

  <h3>반복 패턴 기반 맞춤 자동화</h3>

  <table>
    <tbody>
      <tr><td><strong>소요 시간</strong></td><td>약 20분</td></tr>
      <tr><td><strong>난이도</strong></td><td>중급</td></tr>
      <tr><td><strong>필요 커넥터</strong></td><td>없음 (코어 기능)</td></tr>
      <tr><td><strong>학습 내용</strong></td><td>routine 분석, recommend 활용, 자동화 적용</td></tr>
    </tbody>
  </table>

  <p>AllvIa의 핵심 기능인 행동 패턴 분석을 활용하여 개인의 반복 작업을 자동화합니다.</p>

  <h4>Step 1 — 데이터 수집 상태 확인</h4>
  <p><code>status</code> 명령어로 현재 수집된 데이터량을 확인합니다:</p>
  <pre><code>{`> status

AllvIa Agent Status:
  Collector:  running (port 8080)
  Database:   steer.db (42.3 MB)
  Events:     128,450 events (last 7 days)
  Sessions:   2,340 sessions built
  Routines:   18 patterns detected
  Write Lock: enabled`}</code></pre>

  <h4>Step 2 — 패턴 분석 및 추천 확인</h4>
  <p><code>routine</code>으로 발견된 패턴을 확인하고, <code>recommend</code>로 자동화 추천을 받습니다. 추천된 항목 중 원하는 것을 선택하면 바로 워크플로우가 생성됩니다.</p>

  <h4>Step 3 — 워크플로우 배포 및 모니터링</h4>
  <p>생성된 워크플로우를 n8n에 등록하고, 실행 결과를 모니터링합니다. Self-Healing Guardian이 프로세스 안정성을 보장합니다.</p>

  <hr />

  <h2>다음 단계</h2>
  <ul>
    <li><a href={withBase('/docs/api')}>API Reference</a> — REST API를 통한 프로그래밍 방식의 자동화 관리</li>
    <li><a href={withBase('/docs/faq')}>FAQ</a> — 자주 묻는 질문과 트러블슈팅</li>
    <li><a href={withBase('/docs/changelog')}>Changelog</a> — 최신 기능 업데이트 확인</li>
  </ul>

  <p>추가 튜토리얼이 지속적으로 게시됩니다. <a href={withBase('/updates')}>Updates</a>에서 새 콘텐츠를 확인하십시오.</p>
</DocsLayout>
