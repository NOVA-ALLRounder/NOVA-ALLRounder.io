---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Section from '../../components/ui/Section.astro';
import Container from '../../components/ui/Container.astro';
import Button from '../../components/ui/Button.astro';
import Card from '../../components/ui/Card.astro';
---

<BaseLayout title="Solutions — NOVA Local OS Agent" description="Real-world use cases and scenarios for natural language OS control, multi-app automation, remote control, and workflow generation." lang="en">
  <Header slot="header" lang="en" />

  <!-- Hero -->
  <Section padding="large">
    <Container>
      <div class="text-center max-w-4xl mx-auto animate-on-scroll">
        <p class="text-caption text-accent-300 font-medium tracking-wide uppercase mb-4">Solutions</p>
        <h1 class="text-h1 md:text-display text-neutral-100 mb-6 text-balance">OS automation scenarios<br class="hidden sm:block" />ready for real-world tasks</h1>
        <p class="text-body-lg text-neutral-400 max-w-2xl mx-auto mb-10">
          From natural language OS control to multi-app workflows, remote management, and external service integration. Explore automation scenarios verified by actual codebases.
        </p>
        <Button variant="primary" size="lg" href="/en/docs/getting-started">Get Started</Button>
      </div>
    </Container>
  </Section>

  <!-- Core Solutions -->
  <Section background="light">
    <Container>
      <div class="text-center mb-16 animate-on-scroll">
        <h2 class="text-h2 text-neutral-100 mb-4">Core Solutions</h2>
        <p class="text-body-lg text-neutral-400 max-w-xl mx-auto">Providing OS-level automation in four core areas.</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 animate-on-scroll">
        {[
          {
            title: 'Natural Language OS Control',
            desc: 'When you enter natural language using the surf command, intent_router analyzes intent, plan_builder establishes an execution plan, and visual_driver directly manipulates the screen. Automatically handle app launching, clicking, typing, and keyboard shortcuts.',
            module: 'visual_driver.rs + browser_automation.rs + applescript.rs',
            icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>',
          },
          {
            title: 'Pattern-Based Automation Suggestions',
            desc: 'The Rust Collector gathers OS sensor data, and pattern_detector identifies repeating patterns. The build_sessions → build_routines → build_handoff pipeline refines automation opportunities.',
            module: 'pattern_detector.rs + analyzer.rs + recommendation.rs',
            icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>',
          },
          {
            title: 'Automated Workflow Generation',
            desc: 'Convert natural language prompts into n8n workflow JSON with build_workflow. Supports Docker/NPX modes, with the 36KB n8n_api.rs managing REST API-based execution.',
            module: 'n8n_api.rs + workflow_schema.rs + orchestrator.rs',
            icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>',
          },
          {
            title: 'External Service Integration & Remote Control',
            desc: 'Natively integrate with Gmail/Calendar/Notion, and remote control your PC away from home with a Telegram Bot. Securely link through Google OAuth-based authentication.',
            module: 'gmail.rs + calendar.rs + notion.rs + telegram.rs',
            icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>',
          },
        ].map((useCase) => (
          <Card hoverable={false}>
            <div class="p-8">
              <span class="w-10 h-10 flex items-center justify-center rounded-lg bg-white/5 border border-white/10 text-accent-300 mb-4" set:html={useCase.icon} />
              <h3 class="text-h3 text-neutral-100 mb-3">{useCase.title}</h3>
              <p class="text-body text-neutral-400 mb-4">{useCase.desc}</p>
              <p class="text-caption text-accent-300 font-medium font-mono">{useCase.module}</p>
            </div>
          </Card>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Real-World Scenarios -->
  <Section>
    <Container>
      <div class="text-center mb-16 animate-on-scroll">
        <h2 class="text-h2 text-neutral-100 mb-4">Verified Multi-App Scenarios</h2>
        <p class="text-body-lg text-neutral-400 max-w-xl mx-auto">Complex multi-app automation scenarios that have passed actual testing.</p>
      </div>
      <div class="space-y-6 animate-on-scroll">
        {[
          {
            title: 'Research Workflow',
            apps: 'Notes → Safari → Notes → Mail',
            command: 'surf "Write a research topic in Notes, search in Safari, paste resulting URL in Notes, and share via Mail."',
            steps: ['New note in Notes → Type topic', 'Launch Google search in Safari', 'Copy search result URL → Paste into Notes', 'New email in Mail → Send result'],
            check: 'Cmd+Tab app switching + Clipboard chain delivery verification',
          },
          {
            title: 'Stock Calculation & Recording',
            apps: 'Safari → Calculator → Notes',
            command: 'surf "Search Apple stock price in Safari, calculate value of 100 shares in Calculator, then save result in Notes."',
            steps: ['Search Apple stock price in Safari', 'Read stock price from screen with Vision', 'Calculate price × 100 in Calculator', 'Save calculation result in Notes'],
            check: 'Vision-based screen reading + Calculator automated input verification',
          },
          {
            title: 'Document Writing & Sharing',
            apps: 'TextEdit → Mail → Notes',
            command: 'surf "Write meeting minutes in TextEdit, send via Mail, and archive in Notes."',
            steps: ['New document in TextEdit → Type minutes', 'Select All(Cmd+A) → Copy(Cmd+C)', 'New email in Mail → Paste body', 'Archive final version in Notes'],
            check: 'Clipboard chain + Data delivery verification between 3 apps',
          },
          {
            title: 'File Browsing & Archiving',
            apps: 'Finder → Preview → Notes',
            command: 'surf "Find image file on Desktop, open with Preview, then record image and source in Notes."',
            steps: ['Navigate to ~/Desktop in Finder', 'Search image file → Open with Preview', 'Select All Image → Copy', 'Save image + text mix in Notes'],
            check: 'Finder file discovery + Image clipboard copy verification',
          },
        ].map((scenario) => (
          <div class="bg-[#14161b] rounded-lg border border-white/10 p-6 md:p-8">
            <div class="flex flex-col md:flex-row md:items-start gap-6">
              <div class="flex-1">
                <h3 class="text-h4 text-neutral-100 mb-2">{scenario.title}</h3>
                <p class="text-xs text-accent-300 font-mono mb-4">{scenario.apps}</p>
                <div class="bg-[#0d0e11] rounded-md p-3 mb-4 font-mono text-xs text-neutral-400 overflow-x-auto">
                  <span class="text-[#8fd5a6]">&gt;</span> {scenario.command}
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                  {scenario.steps.map((step, i) => (
                    <div class="flex items-start gap-2 text-sm text-neutral-400">
                      <span class="text-accent-300 font-mono font-bold text-xs mt-0.5">{i + 1}</span>
                      <span>{step}</span>
                    </div>
                  ))}
                </div>
              </div>
              <div class="md:w-52 flex-shrink-0 bg-[#0d0e11] rounded-lg p-4 border border-white/5">
                <p class="text-xs text-neutral-500 mb-1 font-medium">Verification Items</p>
                <p class="text-xs text-neutral-400">{scenario.check}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Setup Process -->
  <Section background="light">
    <Container>
      <div class="text-center mb-16 animate-on-scroll">
        <h2 class="text-h2 text-neutral-100 mb-4">Setup Process</h2>
        <p class="text-body-lg text-neutral-400 max-w-xl mx-auto">Four-stage deployment process from cloning to operation.</p>
      </div>

      <div class="relative animate-on-scroll">
        <div class="hidden md:block absolute top-8 left-0 right-0 h-0.5 bg-white/10" aria-hidden="true"></div>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          {[
            {
              step: '01',
              title: 'Clone & Build',
              desc: 'Build core binaries with git clone → cp .env.example .env → cargo build --release.',
              duration: '5 min',
            },
            {
              step: '02',
              title: 'Configure',
              desc: 'Set OPENAI_API_KEY, grant Accessibility permissions, and choose n8n runtime mode (Docker/NPX).',
              duration: '10 min',
            },
            {
              step: '03',
              title: 'Deploy',
              desc: 'Generate Tauri desktop bundles (.app/.exe) using ./scripts/build_release.sh.',
              duration: '15 min',
            },
            {
              step: '04',
              title: 'Monitor & Scale',
              desc: 'Gather data with Rust Collector, use steer-guardian.sh for Self-Healing, and analyze patterns with batch pipeline.',
              duration: 'Ongoing',
            },
          ].map((phase) => (
            <div class="relative text-center md:text-left">
              <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-[#14161b] border-2 border-white/10 text-neutral-100 font-bold text-lg mb-4 relative z-10">
                {phase.step}
              </div>
              <h3 class="text-h4 text-neutral-100 mb-2">{phase.title}</h3>
              <p class="text-caption text-neutral-400 mb-2">{phase.desc}</p>
              <span class="inline-flex items-center px-3 py-1 rounded-full bg-white/10 text-xs font-medium text-neutral-300">{phase.duration}</span>
            </div>
          ))}
        </div>
      </div>
    </Container>
  </Section>

  <!-- Security & Reliability -->
  <Section>
    <Container>
      <div class="text-center mb-16 animate-on-scroll">
        <h2 class="text-h2 text-neutral-100 mb-4">Security & Reliability</h2>
        <p class="text-body-lg text-neutral-400 max-w-xl mx-auto">Safe and stable operation with 5-layer Zero Trust security and Self-Healing.</p>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 animate-on-scroll">
        {[
          {
            title: 'Zero Trust',
            desc: 'LLM output is considered dangerous by default. All commands must pass through the PolicyEngine to be executed.',
          },
          {
            title: 'Write Lock',
            desc: 'Default locked state. automatic re-locking (timed) after unlock prevents mistakes.',
          },
          {
            title: 'PII Masking',
            desc: 'privacy.rs automatically masks emails, card numbers, and SSNs before saving to the DB.',
          },
          {
            title: 'Self-Healing',
            desc: 'steer-guardian.sh detects crashes and automatically restarts core processes.',
          },
        ].map((item) => (
          <div class="bg-[#14161b] rounded-lg p-6 border border-white/10">
            <h3 class="text-h4 text-neutral-100 mb-2">{item.title}</h3>
            <p class="text-caption text-neutral-400">{item.desc}</p>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- CTA -->
  <Section background="dark" id="contact-sales">
    <Container>
      <div class="text-center animate-on-scroll">
        <h2 class="text-h2 text-white mb-4">Get Started Now</h2>
        <p class="text-body-lg text-neutral-400 max-w-xl mx-auto mb-10">
          Install in 5 minutes and run your first multi-app automation.
        </p>
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <Button variant="primary" size="lg" href="/en/docs/getting-started">Getting Started</Button>
          <Button variant="ghost" size="lg" href="/en/pricing">View Pricing</Button>
        </div>
      </div>
    </Container>
  </Section>

  <Footer slot="footer" lang="en" />
</BaseLayout>
